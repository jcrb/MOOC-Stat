##
## Lab 1
##

## ------------------------------------------------------------------------
smp <- read.csv2("smp2.csv")


## ------------------------------------------------------------------------
ls()
dim(smp)
names(smp)


## ------------------------------------------------------------------------
help(dim)


## ------------------------------------------------------------------------
str(smp)


## ------------------------------------------------------------------------
summary(smp)


## ------------------------------------------------------------------------
smp$age[1]
smp$age[c(1,2)]
smp$age[c(1,3)]


## ------------------------------------------------------------------------
smp$age[1:10]


## ------------------------------------------------------------------------
head(smp$age)
head(smp$age, n=10)


## ------------------------------------------------------------------------
head(smp$age, 10)


## ------------------------------------------------------------------------
summary(smp$age)


## ------------------------------------------------------------------------
min(smp$age)


## ------------------------------------------------------------------------
min(smp$age, na.rm=TRUE)


## ------------------------------------------------------------------------
range(smp$age, na.rm=TRUE)


## ------------------------------------------------------------------------
head(smp$abus)
unique(smp$abus)


## ------------------------------------------------------------------------
length(smp$abus)
nrow(smp)
table(smp$abus)
sum(table(smp$abus))


## ------------------------------------------------------------------------
table(smp$abus, useNA="always")


## ------------------------------------------------------------------------
sum(is.na(smp$abus))
sum(!is.na(smp$abus))
sum(complete.cases(smp$abus))


## ------------------------------------------------------------------------
head(factor(smp$abus))
head(factor(smp$abus, labels=c("Non", "Oui")))


## ------------------------------------------------------------------------
abus <- factor(smp$abus, labels=c("Non", "Oui"))
table(abus)
head(relevel(abus, ref="Oui"))


## ------------------------------------------------------------------------
table(smp$n.enfant, useNA="always")
head(smp$n.enfant > 4)
table(smp$n.enfant > 4)


## ------------------------------------------------------------------------
smp$n.enfant.cat <- factor(smp$n.enfant)
levels(smp$n.enfant.cat)[6:13] <- "5+"
nlevels(smp$n.enfant.cat)
table(smp$n.enfant.cat)


## ------------------------------------------------------------------------
smp$age.cat <- cut(smp$age, breaks=c(19, 25, 35, 45, 83), 
                   include.lowest=TRUE)
table(smp$age.cat)


## ------------------------------------------------------------------------
save(smp, file="smp_v1.rda")
dir(pattern="rda")
